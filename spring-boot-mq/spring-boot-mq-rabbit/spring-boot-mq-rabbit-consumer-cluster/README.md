# Spring Boot + RabbitMQ 实现集群消费

注意和[广播消费](../spring-boot-mq-rabbit-consumer-broadcast/README.md)对比

## 简介

首先，什么是集群消费

在实际的生产中，我们一个服务，可能会启动多个副本，那么我门每个副本都要去消费消息吗？很显然不是这样的

实际上，只要我们一个服务中的一个副本去进行消费就好，多个副本采用轮询(或者其他策略)消费消息即可

我们和这种消费方式称之为 **集群消费**

## 问题

RabbitMQ 默认情况下，所有监听了队列的应用都会去消费消息，不管你是不是同一个服务的不同副本，它并没有提供集群消费能力，需要我们自己去实现

## 解决方案
在 RabbitMQ 中，如果多个 Consumer 订阅相同的 Queue ，那么每一条消息有且仅会被一个 Consumer 所消费。这个特性，就为我们实现集群消费提供了基础。

可以利用 Topic 交换机的特性，每个服务对应的队列的后缀不相同，如此多个应用，就可以同时消费某个数据，而应用内的多个副本
应为都订阅了同一个队列，所以只有一个副本会消费的消息，如果便可以实现集群消费的能力。






